<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>妙味课堂--js视频解答</title>
<style type="text/css">
div{
	width:100px;
	height:100px;
	background:red;
	position:absolute;
	left:0;
	top:0;
}
</style>
	<script type="text/javascript">
	window.onload = function()
	{
		function Drag()
		{
			var _this = this;
			this.oDiv = document.getElementById("div1");
			this.disX = 0;
			this.disY = 0;
			this.oDiv.onmousedown = function()
			{
				_this.fnDown();
			}
			

		}
		Drag.prototype.fnDown = function( ev )
		{
			var _this = this;
			var oEvent = ev || event;
			this.disX = oEvent.clientX - this.oDiv.offsetLeft;
			this.disY = oEvent.clientY - this.oDiv.offsetTop;
			document.onmousemove = function()
			{
				_this.fnMove();
			}
			document.onmouseup = function()
			{
				_this.fnUp();
			}
		}

		Drag.prototype.fnMove = function( ev )
		{
			var oEvent=ev||event;
			this.oDiv.style.left = oEvent.clientX - this.disX + "px";
			this.oDiv.style.top = oEvent.clientY - this.disY + "px";
		}
		Drag.prototype.fnUp = function()
		{
			document.onmousemove = null;
			document.onmuseup = null;
		}
		new Drag();

	}	



	
	</script>
</head>
<body>
<div id="div1"></div>
</body>
</html>
